---
import { Image } from "astro:assets";
const response = async () => {
    try {
        const res = await fetch('http://localhost:3000/products');
        return res.json();
        
    } catch(err) {
        return []
    }
}



const products = await response();
---
<div>
    {
        products?.map(p => (
            <p>{p.name}</p>
            <p>{p.price}</p>
            <Image src={p.img_url} alt="Product" width={100} height={100} draggable=false />
        ))
    }
</div>